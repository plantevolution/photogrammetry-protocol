<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Settings and preparation | Flower photogrammetry and 3D modeling protocol</title>
  <meta name="description" content="This protocol is an evolving protocol used in the Joly lab at the Université de Montréal (Canada)" />
  <meta name="generator" content="bookdown 0.29 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Settings and preparation | Flower photogrammetry and 3D modeling protocol" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="http://www.plantevolution.org/photogrammetry-protocol/Figures/cover.jpg" />
  <meta property="og:description" content="This protocol is an evolving protocol used in the Joly lab at the Université de Montréal (Canada)" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Settings and preparation | Flower photogrammetry and 3D modeling protocol" />
  
  <meta name="twitter:description" content="This protocol is an evolving protocol used in the Joly lab at the Université de Montréal (Canada)" />
  <meta name="twitter:image" content="http://www.plantevolution.org/photogrammetry-protocol/Figures/cover.jpg" />

<meta name="author" content="Marion Leménager" />
<meta name="author" content="Jérôme Burkiewicz" />
<meta name="author" content="Daniel Schoen" />
<meta name="author" content="Diana Constanza Diaz Cardona" />
<meta name="author" content="Simon Joly" />


<meta name="date" content="2022-09-16" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="materials.html"/>
<link rel="next" href="image-capture-step-by-step.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A photogrammetry protocol</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> About</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#citation"><i class="fa fa-check"></i><b>1.1</b> Citation</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#contributing"><i class="fa fa-check"></i><b>1.2</b> Contributing</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#disclaimer"><i class="fa fa-check"></i><b>1.3</b> Disclaimer</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="materials.html"><a href="materials.html"><i class="fa fa-check"></i><b>2</b> Materials</a>
<ul>
<li class="chapter" data-level="2.1" data-path="materials.html"><a href="materials.html#lighting"><i class="fa fa-check"></i><b>2.1</b> Lighting</a></li>
<li class="chapter" data-level="2.2" data-path="materials.html"><a href="materials.html#turn-table"><i class="fa fa-check"></i><b>2.2</b> Turn table</a></li>
<li class="chapter" data-level="2.3" data-path="materials.html"><a href="materials.html#camera"><i class="fa fa-check"></i><b>2.3</b> Camera</a></li>
<li class="chapter" data-level="2.4" data-path="materials.html"><a href="materials.html#color-chart"><i class="fa fa-check"></i><b>2.4</b> Color chart</a></li>
<li class="chapter" data-level="2.5" data-path="materials.html"><a href="materials.html#software"><i class="fa fa-check"></i><b>2.5</b> Software</a></li>
<li class="chapter" data-level="2.6" data-path="materials.html"><a href="materials.html#flowers"><i class="fa fa-check"></i><b>2.6</b> Flowers</a></li>
<li class="chapter" data-level="2.7" data-path="materials.html"><a href="materials.html#summary-of-materials-and-software"><i class="fa fa-check"></i><b>2.7</b> Summary of materials and software</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="settings-and-preparation.html"><a href="settings-and-preparation.html"><i class="fa fa-check"></i><b>3</b> Settings and preparation</a>
<ul>
<li class="chapter" data-level="3.1" data-path="settings-and-preparation.html"><a href="settings-and-preparation.html#camera-and-tripod-settings-and-preparation"><i class="fa fa-check"></i><b>3.1</b> Camera and tripod settings and preparation</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="settings-and-preparation.html"><a href="settings-and-preparation.html#camera-settings"><i class="fa fa-check"></i><b>3.1.1</b> Camera settings</a></li>
<li class="chapter" data-level="3.1.2" data-path="settings-and-preparation.html"><a href="settings-and-preparation.html#optional-custom-camera-white-balance"><i class="fa fa-check"></i><b>3.1.2</b> Optional : custom camera white balance</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="settings-and-preparation.html"><a href="settings-and-preparation.html#turn-table-settings-and-preparation"><i class="fa fa-check"></i><b>3.2</b> Turn table settings and preparation</a></li>
<li class="chapter" data-level="3.3" data-path="settings-and-preparation.html"><a href="settings-and-preparation.html#summary-of-settings"><i class="fa fa-check"></i><b>3.3</b> Summary of settings</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="image-capture-step-by-step.html"><a href="image-capture-step-by-step.html"><i class="fa fa-check"></i><b>4</b> Image capture step-by-step</a>
<ul>
<li class="chapter" data-level="4.1" data-path="image-capture-step-by-step.html"><a href="image-capture-step-by-step.html#take-a-picture-of-the-color-chart"><i class="fa fa-check"></i><b>4.1</b> Take a picture of the color chart</a></li>
<li class="chapter" data-level="4.2" data-path="image-capture-step-by-step.html"><a href="image-capture-step-by-step.html#flower-placement-image-capture"><i class="fa fa-check"></i><b>4.2</b> Flower placement &amp; Image capture</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="image-post-processing.html"><a href="image-post-processing.html"><i class="fa fa-check"></i><b>5</b> Image post processing</a>
<ul>
<li class="chapter" data-level="5.1" data-path="image-post-processing.html"><a href="image-post-processing.html#file-names-and-storage"><i class="fa fa-check"></i><b>5.1</b> File names and storage</a></li>
<li class="chapter" data-level="5.2" data-path="image-post-processing.html"><a href="image-post-processing.html#image-color-calibration"><i class="fa fa-check"></i><b>5.2</b> Image color calibration</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="image-post-processing.html"><a href="image-post-processing.html#creating-color-profiles"><i class="fa fa-check"></i><b>5.2.1</b> Creating color profiles</a></li>
<li class="chapter" data-level="5.2.2" data-path="image-post-processing.html"><a href="image-post-processing.html#color-and-illuminance-calibration-from-profiles"><i class="fa fa-check"></i><b>5.2.2</b> Color and illuminance calibration from profiles</a></li>
<li class="chapter" data-level="5.2.3" data-path="image-post-processing.html"><a href="image-post-processing.html#export-calibrated-files-to-jpg-format"><i class="fa fa-check"></i><b>5.2.3</b> Export calibrated files to jpg format</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="d-model-reconstruction-in-agisoft-metashape.html"><a href="d-model-reconstruction-in-agisoft-metashape.html"><i class="fa fa-check"></i><b>6</b> 3D model reconstruction in Agisoft Metashape</a>
<ul>
<li class="chapter" data-level="6.1" data-path="d-model-reconstruction-in-agisoft-metashape.html"><a href="d-model-reconstruction-in-agisoft-metashape.html#download-agisoft-metashape"><i class="fa fa-check"></i><b>6.1</b> Download Agisoft Metashape</a></li>
<li class="chapter" data-level="6.2" data-path="d-model-reconstruction-in-agisoft-metashape.html"><a href="d-model-reconstruction-in-agisoft-metashape.html#initial-tweaks"><i class="fa fa-check"></i><b>6.2</b> Initial tweaks</a></li>
<li class="chapter" data-level="6.3" data-path="d-model-reconstruction-in-agisoft-metashape.html"><a href="d-model-reconstruction-in-agisoft-metashape.html#overview-of-the-model-building-pipeline"><i class="fa fa-check"></i><b>6.3</b> Overview of the model building pipeline</a></li>
<li class="chapter" data-level="6.4" data-path="d-model-reconstruction-in-agisoft-metashape.html"><a href="d-model-reconstruction-in-agisoft-metashape.html#photo-importation"><i class="fa fa-check"></i><b>6.4</b> Photo importation</a></li>
<li class="chapter" data-level="6.5" data-path="d-model-reconstruction-in-agisoft-metashape.html"><a href="d-model-reconstruction-in-agisoft-metashape.html#mask-application"><i class="fa fa-check"></i><b>6.5</b> Mask application</a></li>
<li class="chapter" data-level="6.6" data-path="d-model-reconstruction-in-agisoft-metashape.html"><a href="d-model-reconstruction-in-agisoft-metashape.html#masks-touch-ups"><i class="fa fa-check"></i><b>6.6</b> Masks touch ups</a></li>
<li class="chapter" data-level="6.7" data-path="d-model-reconstruction-in-agisoft-metashape.html"><a href="d-model-reconstruction-in-agisoft-metashape.html#camera-alignment"><i class="fa fa-check"></i><b>6.7</b> Camera alignment</a></li>
<li class="chapter" data-level="6.8" data-path="d-model-reconstruction-in-agisoft-metashape.html"><a href="d-model-reconstruction-in-agisoft-metashape.html#align-chunks-together"><i class="fa fa-check"></i><b>6.8</b> Align chunks together</a></li>
<li class="chapter" data-level="6.9" data-path="d-model-reconstruction-in-agisoft-metashape.html"><a href="d-model-reconstruction-in-agisoft-metashape.html#merge-chunks"><i class="fa fa-check"></i><b>6.9</b> Merge chunks</a></li>
<li class="chapter" data-level="6.10" data-path="d-model-reconstruction-in-agisoft-metashape.html"><a href="d-model-reconstruction-in-agisoft-metashape.html#build-3d-mesh"><i class="fa fa-check"></i><b>6.10</b> Build 3D mesh</a></li>
<li class="chapter" data-level="6.11" data-path="d-model-reconstruction-in-agisoft-metashape.html"><a href="d-model-reconstruction-in-agisoft-metashape.html#d-mesh-touch-ups"><i class="fa fa-check"></i><b>6.11</b> 3D mesh touch ups</a></li>
<li class="chapter" data-level="6.12" data-path="d-model-reconstruction-in-agisoft-metashape.html"><a href="d-model-reconstruction-in-agisoft-metashape.html#build-texture"><i class="fa fa-check"></i><b>6.12</b> Build texture</a></li>
<li class="chapter" data-level="6.13" data-path="d-model-reconstruction-in-agisoft-metashape.html"><a href="d-model-reconstruction-in-agisoft-metashape.html#scaling"><i class="fa fa-check"></i><b>6.13</b> Scaling</a></li>
<li class="chapter" data-level="6.14" data-path="d-model-reconstruction-in-agisoft-metashape.html"><a href="d-model-reconstruction-in-agisoft-metashape.html#model-orientation"><i class="fa fa-check"></i><b>6.14</b> Model orientation</a></li>
<li class="chapter" data-level="6.15" data-path="d-model-reconstruction-in-agisoft-metashape.html"><a href="d-model-reconstruction-in-agisoft-metashape.html#export-model-and-texture"><i class="fa fa-check"></i><b>6.15</b> Export model and texture</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Flower photogrammetry and 3D modeling protocol</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="settings-and-preparation" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">Chapter 3</span> Settings and preparation<a href="settings-and-preparation.html#settings-and-preparation" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="camera-and-tripod-settings-and-preparation" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Camera and tripod settings and preparation<a href="settings-and-preparation.html#camera-and-tripod-settings-and-preparation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>To obtain the best picture quality for model reconstruction, we need an
optimal combination of the light sensibility of the sensor (ISO), the
duration of exposure and the focal of the objective (F). As mentioned,
it is preferable to use a fixed lens (one that doesn’t allow zooming) to
facilitate the model reconstruction in the processing step because the
software can’t take zooming into account in the reconstruction process.
Maximizing the light source allows us to use the lowest ISO to get
crisper images. Adapted time exposure to allow the right amount of light
to go to the sensor, avoids low key nor high key photo (under/over
exposed photo). This may be adapted according to the subject (light or
dark colored subject or background) or if different lighting conditions
are used.</p>
<p>To maximize the depth of field without lowering the image quality, using
the manual option on the camera dial, the focal F should be set to F16.
Use the manual focus setting on the side of the lens (Figure
<a href="settings-and-preparation.html#camera_arrows" reference-type="ref" reference="camera_arrows">3</a>) to
avoid camera trigger malfunction when the flowers doesn’t land on the
detector. If the flower is off centered during rotation, and the
automatic focus can’t focus (on the background) the camera trigger is
prevented with the automatic focus. On manual, the camera will always be
triggered by the turn table, even if the focus isn’t optimal. Because
the subject is moving and may be off centered on the turntable, the
focus may need to be adapted while the turn table runs. For this you can
pause the turntable, manually adjust the focus, and resume the spin.</p>
<p>A flexible tripod (Figure <a href="settings-and-preparation.html#tripod" reference-type="ref" reference="tripod">4</a>) is used to adjust several camera heights, high,
middle, and low, close to the subject.</p>
<div class="figure">
<img src="Figures/camera_arrows.png" id="camera_arrows" style="width:6cm" alt="" />
<p class="caption">Camera and lens used to take RAW photos. The red arrows (from top to
bottom) depict the button to get manual focus, the ISO button and the
manual parameter on the camera
dial.</p>
</div>
<div class="figure">
<img src="Figures/tripod.png" id="tripod" style="width:4cm" alt="" />
<p class="caption">Flexible tripod used to adjust camera
positions.</p>
</div>
<div id="camera-settings" class="section level3 hasAnchor" number="3.1.1">
<h3><span class="header-section-number">3.1.1</span> Camera settings<a href="settings-and-preparation.html#camera-settings" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The standard settings have to be adjusted depending on the flower
(colour mostly and conditions). We often use the following settings :
exposure time (shutter speed) 1/20s, F/16 focal, ISO 100, standard
exposition on the light meter, and we save pictures as RAW files (ML
setting on the camera display) format to be able to post-process them
for color calibration (Figure <a href="settings-and-preparation.html#fig:my_label" reference-type="ref" reference="fig:my_label">5</a>). A RAW photo of the color chart with an
identical set of lighting conditions and camera settings as the flower
to be photographed is needed for each flower photos series. If several
flowers are processed one after the other without variation of light
conditions, only one chart photo is needed.</p>
<div class="tcolorbox">
<p>The nicer and the sharper the photographs, the easier it will be to
build the models. So make sure that the flower is always in focus. Shade
or high light reflectance can also impair model reconstruction, so pay
attention to these while taking the pictures.</p>
</div>
<div class="figure">
<img src="Figures/camera_settings.JPG" id="fig:my_label" style="width:50.0%" alt="" />
<p class="caption">Camera settings interface of the Canon
t2i/550D</p>
</div>
</div>
<div id="optional-custom-camera-white-balance" class="section level3 hasAnchor" number="3.1.2">
<h3><span class="header-section-number">3.1.2</span> Optional : custom camera white balance<a href="settings-and-preparation.html#optional-custom-camera-white-balance" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Optionally, you can begin by setting a personalized white balance in
your camera with the light gray scale on the chart :</p>
<ol style="list-style-type: decimal">
<li><p>For a Canon camera, take a picture of the gray scale</p></li>
<li><p>Choose <em>Custom WB</em> in your camera settings (Figure
<a href="settings-and-preparation.html#WB_sub1" reference-type="ref" reference="WB_sub1">6</a>)</p></li>
<li><p>Select <em>Custom</em> and use the picture of the grey scale to define your
custome white balance (Figure <a href="settings-and-preparation.html#WB_sub2" reference-type="ref" reference="WB_sub2">7</a>). Be careful, you will still require to
linearize and calibrate each photo afterwards.</p></li>
</ol>
<p>However, the color chart will always be the reference for
post-processing the color calibration of each photo. This optional
section only helps to have a better preview of the photos.</p>
<div class="figure">
<img src="Figures/Custom%20WB%20setting.png" id="WB_sub1" style="width:50.0%" alt="" />
<p class="caption">Custom WB parameter</p>
</div>
<div class="figure">
<img src="Figures/Custom%20WB%20selection.png" id="WB_sub2" style="width:50.0%" alt="" />
<p class="caption">Select your custom WB</p>
</div>
</div>
</div>
<div id="turn-table-settings-and-preparation" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Turn table settings and preparation<a href="settings-and-preparation.html#turn-table-settings-and-preparation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>For each run (one 360 spin of the turn table), we use a wait time of 2s
to allow the camera time to save the images on the SD card after it is
triggered, and the flower to stabilize after each rotation.</p>
<ol style="list-style-type: decimal">
<li><p>Connect the shutter release to your camera and the turntable Syrp
Genie II (Figure <a href="settings-and-preparation.html#fig:shutter" reference-type="ref" reference="fig:shutter">8</a>).</p></li>
<li><p>Turn the turntable on (to turn it off, hold the <em>on</em> button for 3
seconds).</p></li>
<li><p>Connect the Syrp Genie II to your device, and do the updates if
required (needs an internet connection).</p></li>
<li><p>Click on <em>create content</em> &gt; <em>turntable</em> (Figure
<a href="settings-and-preparation.html#genie_root" reference-type="ref" reference="genie_root">9</a>,
<a href="settings-and-preparation.html#genie_content" reference-type="ref" reference="genie_content">10</a>).</p></li>
<li><p>In parameters (Figure <a href="settings-and-preparation.html#record" reference-type="ref" reference="record">12</a>), select 20 photos for each run, and 2s of
waiting (move-wait-shoot-wait-move). If it is too quick, some
pictures won’t be able to be saved as the camera needs a delay to
save them on the memory card. The spinning device will take the
first picture then proceed to a move-shoot-move run until the last
photo.</p></li>
<li><p>Place the white background circle on the turntable to contrast with
the flower. If your flower is pale, then use a different background
(colored or darker). Ideally, the color of the circle should be the
exact same color of the background of the lightbox as this will help
when applying masks later.</p></li>
</ol>
<div class="figure">
<img src="Figures/shutter.jpg" id="fig:shutter" style="width:50.0%" alt="" />
<p class="caption">Camera shutter release port</p>
</div>
<div class="figure">
<img src="Figures/genie_root.PNG" id="genie_root" style="width:50.0%" alt="" />
<p class="caption">Genie app interface root</p>
</div>
<div class="figure">
<img src="Figures/genie_create.PNG" id="genie_content" style="width:50.0%" alt="" />
<p class="caption">Create turntable content</p>
</div>
<p><br />
</p>
<div class="figure">
<img src="Figures/genie_settings.PNG" id="fig:genie_settings" style="width:50.0%" alt="" />
<p class="caption">Genie detailed
settings</p>
</div>
<div class="figure">
<img src="Figures/genie_turntable_20_1.PNG" id="record" style="width:50.0%" alt="" />
<p class="caption">Start recording with the
turntable</p>
</div>
</div>
<div id="summary-of-settings" class="section level2 hasAnchor" number="3.3">
<h2><span class="header-section-number">3.3</span> Summary of settings<a href="settings-and-preparation.html#summary-of-settings" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="tabular">
<p>L4cm|L12cm <strong>Parameter</strong> &amp; <strong>Description</strong><br />
</p>
<hr />
<p><br />
Aperture &amp; F/16<br />
</p>
<hr />
<p>Sensibility &amp; ISO 100 (lowest)<br />
</p>
<hr />
<p>Exposure time &amp; 1/20s - Can be adapted according to the flower.
<strong>Reminder</strong> : a photo of the color chart in the exact same light
conditions and camera parameters as the flower needs to be taken.<br />
<br />
Number of photos &amp; 20 per 360 for one camera position and one flower
position. May be adjusted according to each flower.<br />
</p>
<hr />
<p>Wait time &amp; 2s<br />
</p>
<hr />
</div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="materials.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="image-capture-step-by-step.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/02-settings.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
